<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% block title %}{% endblock title %}</title>
    
    {% load static %}
    <link rel="stylesheet" type="text/css" href="{% static 'css/base.css' %}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.4/font/bootstrap-icons.css">
    <link rel="icon" href="{% static 'image/camp_favicon.png' %}">
    {% block style %}{% endblock style %}
    {% block head %}{% endblock head %}
  </head>
  <body>
    <nav id="full-navbar">
      <div class="logo--box">
        <a href="{% url 'main' %}"  class="logo--img">
          <img src="{% static 'image/logo.png' %}" alt="" class="logo--img">
        </a>
      </div>
      <div class="nav--tap">
        <div class="tap">
          {% comment %} header 상단 {% endcomment %}
          <div class="nav--accounts">
            <a href="{% url 'main' %}">Home</a>
            {% if request.user.is_authenticated %}
              <span style="color:white;"><a href="{% url 'accounts:profile' user %}">{{ user }}{{ request.user.is_owner }} 안녕하세요!</a></span>
              <a href="{% url 'accounts:logout' %}">Logout</a>
            {% else %}
              <a href="{% url 'accounts:signup' %}">Join</a>
              <a href="{% url 'accounts:login' %}">Login</a>
            {% endif %}
          </div>
        </div>
        <div class="category">
          <a href="{% url 'posts:index' %}">전체</a>
          <a href="{% url 'posts:category' '오지, 노지' %}">오지/노지캠핑</a>
          <a href="{% url 'posts:category' '유료' %}">유료캠핑장</a>
          <a href="{% url 'posts:category' '글램핑, 카라반' %}">글램핑/카라반</a>
          <a href="#" id="thema">테마검색</a>
          <div id="myModal" class="modal">
            <div class="modal-content">
              <div class="facility--box">

                  {% for facility in facilities %}
                  <div class="facility">
                    {% if facility == '와이파이' %}
                      <i class="bi bi-wifi facility-icon" data-filter="와이파이"></i>
                    {% elif facility == '매점' %}
                      <i class="bi bi-shop facility-icon" data-filter="매점"></i>
                    {% elif facility == '샤워시설' %}
                      <i class="bi bi-door-closed facility-icon" data-filter="샤워시설"></i>
                    {% elif facility == '전기' %}
                      <i class="bi bi-lightning facility-icon" data-filter="전기"></i>
                    {% elif facility == '온수제공' %}
                      <i class="bi bi-cup-hot facility-icon" data-filter="온수제공"></i>
                    {% elif facility == '대여' %}
                      <i class="bi bi-bucket facility-icon" data-filter="대여"></i>
                    {% elif facility == '장작' %}
                      <i class="bi bi-fire facility-icon" data-filter="장작"></i>
                    {% elif facility == '개수대' %}
                      <i class="bi bi-droplet facility-icon" data-filter="개수대"></i>
                    {% elif facility == '화장실' %}
                      <i class="bi bi-universal-access-circle facility-icon" data-filter="화장실"></i>
                    {% endif %}
                    {{ facility }}
                  </div>
                  {% endfor %}

                <input type="submit" id="submitBtn" value="Submit">
              </div>
              <span class="close">닫기</span>
            </div>
          </div>
          <a href="{% url 'sales' %}">캠핑용품추천</a>
        </div>
      </div>
    </nav>

    <header id="reduced-navbar">
      <div class="nav--logo--box">
        <a href="{% url 'main' %}"  class="nav--logo--img">
          <img src="{% static 'image/logo.png' %}" alt="" class="nav--logo--img">
        </a>
      </div>
      <div class="nav--tap--box">
        <div class="nav--menu">
          <a href="{% url 'posts:index' %}">전체</a>
          <a href="{% url 'posts:category' '오지, 노지' %}">오지/노지캠핑</a>
          <a href="{% url 'posts:category' '유료' %}">유료캠핑장</a>
          <a href="{% url 'posts:category' '글램핑, 카라반' %}">글램핑/카라반</a>
          <a href="">테마검색</a>
          <a href="{% url 'sales' %}">캠핑용품추천</a>
        </div>
        <div class="menu--accounts">
          {% if request.user.is_authenticated %}
            {% if user.image %}
            <div class="dropdown">
              <button class="profile--image rounded-circle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                <img src="{{ user.image.url }}" alt="" class="object-fit-fill profile">
              </button>
              <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="{% url 'accounts:profile' user %}">{{ user }}</a></li>
                <li><a class="dropdown-item" href="{% url 'accounts:logout' %}">Logout</a></li>
              </ul>
            </div>
            {% else %}
            <div class="dropdown">
              <button class="profile--image rounded-circle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                <img src="{% static 'image/profile-none.png' %}" alt="" class="object-fit-fill profile">
              </button>
              <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="{% url 'accounts:profile' user %}">{{ user }}</a></li>
                <li><a class="dropdown-item" href="{% url 'accounts:logout' %}">Logout</a></li>
              </ul>
            </div>
            {% endif %}
          {% else %}
          <div class="dropdown">
            <button class="profile--image rounded-circle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
              <img src="{% static 'image/profile-none.png' %}" alt="" class="object-fit-fill profile">
            </button>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="{% url 'accounts:login' %}">Login</a></li>
              <li><a class="dropdown-item" href="{% url 'accounts:signup' %}">Join</a></li>
            </ul>
          </div>
          {% endif %}
        </div>
      </div>
    </header>

    <menu id="menu">
      <div class="menu--logo--box">
        <a href="{% url 'main' %}"  class="menu--logo--img">
          <img src="{% static 'image/logo.png' %}" alt="" class="menu--logo--img">
        </a>
      </div>
      <div class="search--box">
        <form action="" class="search">
          {% csrf_token %}
            <input type="search" placeholder='   캠핑장 검색' name='q' style="padding-left:10px;">
            <button class="search--btn" type="submit">
              <i class="bi bi-search"></i>
            </button>
        </form>
      </div>
      <div class="menu--accounts">
        {% if request.user.is_authenticated %}
          {% if user.image %}
          <div class="dropdown">
            <button class="profile--image rounded-circle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
              <img src="{{ user.image.url }}" alt="" class="object-fit-fill profile">
            </button>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="{% url 'accounts:profile' user %}">{{ user }}</a></li>
              <li><a class="dropdown-item" href="{% url 'accounts:logout' %}">Logout</a></li>
            </ul>
          </div>
          {% else %}
          <div class="dropdown">
            <button class="profile--image rounded-circle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
              <img src="{% static 'image/profile-none.png' %}" alt="" class="object-fit-fill profile">
            </button>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="{% url 'accounts:profile' user %}">{{ user }}</a></li>
              <li><a class="dropdown-item" href="{% url 'accounts:logout' %}">Logout</a></li>
            </ul>
          </div>
          {% endif %}
        {% else %}
        <div class="dropdown">
          <button class="profile--image rounded-circle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
            <img src="{% static 'image/profile-none.png' %}" alt="" class="object-fit-fill profile">
          </button>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="{% url 'accounts:login' %}">Login</a></li>
            <li><a class="dropdown-item" href="{% url 'accounts:signup' %}">Join</a></li>
          </ul>
        </div>
        {% endif %}
      </div>
    </menu>
    <button id="scrollButton"><i class="bi bi-arrow-bar-down"></i></i></button>
    <section>
      {% block content %}
      
      {% endblock content %}
    </section>

    <script src="{% static 'js/base.js' %}" type="text/javascript"></script>
    {% block script %}
    
    {% endblock script %}
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-beta.1/dist/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-beta.1/dist/js/select2.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.1.0-rc.0/js/select2.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.1.0-rc.0/css/select2.min.css" />
    <script src="{% static 'js/thema.js' %}" type="text/javascript"></script>
  </body>
</html>